{"code":"webpackJsonp([16],{1305:function(e,t,s){var l=s(91)(s(1870),s(1871),function(e){s(1869)},null,null);e.exports=l.exports},1869:function(e,t){},1870:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var l,r=s(75),o=(l=r)&&l.__esModule?l:{default:l};t.default={props:[\"projectId\"],data:function(){return{correctFlag:!0,fileNum:1,fileList:[],deleteFileId:\"\",myrules:{projectName:[{required:!0,message:\"请输入项目名称\",trigger:\"blur\"}],origin:[{required:!0,message:\"请选择项目来源\",trigger:\"change\"}],projectType:[{required:!0,message:\"请选择项目类别\",trigger:\"change\"}],metricsValue:[{required:!0,message:\"衡量指标\",trigger:\"blur\"}],companyId:[{required:!0,message:\"请选择发起部门\",trigger:\"change\"}],managerPersons:[{required:!0,message:\"请选择项目责任人\",trigger:\"change\"}],followerPersons:[{required:!0,message:\"请选择项目跟进人\",trigger:\"change\"}],followCircle:[{required:!0,message:\"请选择回顾周期\",trigger:\"change\"}],beginDate:[{required:!0,message:\"请选择开始日期\",trigger:\"change\"}],endDate:[{required:!0,message:\"请选择结束日期\",trigger:\"change\"}]},orgPersonForProManager:[],orgPersonForProFollower:[],orgPersonForProSubFollower:[],subOrgListForChoose:[],orgDepartmentList:[],newPrj:{projectId:\"\",companyId:\"24\",projectCode:\"\",projectName:\"\",origin:\"\",originKey:\"\",originValue:\"\",projectType:\"\",typeKey:\"\",typeValue:\"\",metricsKey:\"\",metricsValue:\"\",projectLevel:\"\",levelKey:\"\",levelValue:\"\",followCircle:\"\",followCircleKey:\"\",followCircleValue:\"\",beginDate:\"\",endDate:\"\",background:\"\",projectStatus:\"\",managerPersons:[],followerPersons:[],file:{},milestones:[],originInfo:{}}}},mounted:function(){},created:function(){this.initData()},watch:{projectId:function(){this.initData()}},methods:{initData:function(){var e=this,t={projectId:this.projectId};this.projectId&&this.$httpExt().post(\"project/\"+this.projectId,t).then(function(t){e.originInfo=t.result,console.log(\"1this.originInfo\",e.originInfo),e.originInfo.milestones.length&&e.originInfo.milestones.forEach(function(e){0==e.hasUndertake&&(e.undertake={milestoneUndertakeOrgId:1,milestoneUndertakeContent:\"\"})}),console.log(\"this.originInfo\",e.originInfo),(0,o.default)(e.newPrj,e.originInfo),e.newPrj.origin=e.originInfo.originValue,e.newPrj.projectType=e.originInfo.typeValue,e.newPrj.projectLevel=e.originInfo.levelValue,e.newPrj.followCircle=e.originInfo.followCircleValue,e.fileList=[],null==e.newPrj.file?e.fileList=[]:e.fileList.push({name:e.newPrj.file.fileName}),e.fetchOrgList(),e.getInitiatingDepartment(),e.fetchOrgPerson(e.newPrj.companyId,\"noReset\"),console.log(2,e.newPrj.milestones)}).catch(function(e){console.log(e)})},beforeUpload:function(e){if(e.size>10485760)return this.correctFlag=!1,this.$message({message:\"上传失败，文件大小超过10M\",type:\"error\"}),!1;var t=e.name.split(\".\").slice(-1)[0],s=/(xls|xlsx|ppt|pptx|doc|docx)/;return console.log(\"zz\",t,s.test(t)),s.test(t)?void 0:(this.correctFlag=!1,this.$message({message:\"上传失败，文件格式应为xls,xlsx,ppt,pptx,doc,docx\",type:\"error\"}),this.fileList=[],!1)},beforeRemove:function(e,t){if(console.log(\"bd\",e,t),this.correctFlag)return e.response?this.deleteFileId=e.response.result.fileId:this.deleteFileId=this.newPrj.file.fileId,this.$confirm(\"确定移除 \"+e.name+\"？\")},deleteFile:function(e,t){var s=this;console.log(\"del\",e,t),this.correctFlag&&this.$httpExt().delete(\"/file/delete/\"+this.deleteFileId).then(function(e){s.fileList=t}).catch(function(e){console.log(e)})},uploadSuccess:function(e,t,s){this.$message({message:\"上传成功\",type:\"success\"}),this.fileList=s,console.log(\"res\",e,t,s)},exceedWarn:function(e,t,s){this.$message({message:\"最多只能上传一个文件\",type:\"error\"})},getInitiatingDepartment:function(){var e=this;this.$httpExt().post(\"gmrt/org/list\",{orgTypeList:[\"JM\",\"FL\"]}).then(function(t){null!=t.result&&void 0!=t.result&&0!=t.result.length&&(e.orgDepartmentList=[],e.orgDepartmentList=e.$extendDeepCopy(e.orgDepartmentList,t.result))}).catch(function(e){console.log(e)})},fetchOrgPerson:function(e,t){console.log(\"companyId\",e);var s=this;\"reset\"==t&&(s.newPrj.managerPersons=[],s.newPrj.followerPersons=[],s.newPrj.milestones.forEach(function(e){e.subFollowers=[]}));var l={projectOrgId:e};s.$httpExt().post(\"gmrt/org/person\",l).then(function(e){null!=e.result&&void 0!=e.result&&0!=e.result.length?(s.orgPersonForProManager=[],s.orgPersonForProFollower=[],s.orgPersonForProSubFollower=[],s.orgPersonForProManager=s.$extendDeepCopy(s.orgPersonForProManager,e.result),s.orgPersonForProFollower=s.$extendDeepCopy(s.orgPersonForProFollower,e.result),s.orgPersonForProSubFollower=s.$extendDeepCopy(s.orgPersonForProSubFollower,e.result),s.newPrj.milestones.forEach(function(t){t.subFollowerList=[],t.subFollowerList=s.$extendDeepCopy(t.subFollowerList,e.result)})):(s.orgPersonForProManager=[],s.orgPersonForProFollower=[],s.orgPersonForProSubFollower=[],s.newPrj.milestones.forEach(function(e){e.subFollowerList=[]}))}).catch(function(e){})},deleteSubItem:function(e){this.newPrj.milestones.splice(e,1)},changesubOrgListSelect:function(e,t,s){var l=this,r={projectOrgId:e};\"reset\"==s&&(l.newPrj.milestones[t].managerPersons=[],l.newPrj.milestones[t].followerPersons=[]),l.$httpExt().post(\"gmrt/org/person\",r).then(function(s){console.log(\"gmrt/org/person\",e,s.result),null!=s.result&&void 0!=s.result&&0!=s.result.length?(l.$set(l.newPrj.milestones[t],\"managerPersonsList\",[]),l.$set(l.newPrj.milestones[t],\"managerPersonsList\",l.$extendDeepCopy(l.newPrj.milestones[t].managerPersonsList,s.result)),l.$set(l.newPrj.milestones[t],\"followerPersonsList\",[]),l.$set(l.newPrj.milestones[t],\"followerPersonsList\",l.$extendDeepCopy(l.newPrj.milestones[t].followerPersonsList,s.result))):(l.newPrj.milestones[t].managerPersonsList=[],l.newPrj.milestones[t].followerPersonsList=[])}).catch(function(e){})},clickNewMilestone:function(){var e={milestoneTitle:\"\",milestoneContent:\"\",milestoneDeliverable:\"\",milestoneBeginDate:\"\",milestoneEndDate:\"\",hasUndertake:1,milestoneUndertakeOrgId:\"\",undertake:{milestoneUndertakeOrgId:1,milestoneUndertakeContent:\"\"},subFollowers:[],managerPersons:[],followerPersons:[],subOrgList:[],subFollowerList:[],managerPersonsList:[],followerPersonsList:[]};e.subFollowerList=this.$extendDeepCopy(e.subFollowerList,this.orgPersonForProSubFollower),e.subOrgList=this.$extendDeepCopy(e.subOrgList,this.subOrgListForChoose),this.newPrj.milestones.push(e)},fetchOrgList:function(){var e=this;this.$httpExt().post(\"gmrt/org/list\",{orgTypeList:[\"JM\",\"FL\"]}).then(function(t){null!=t.result&&void 0!=t.result&&0!=t.result.length&&(e.subOrgListForChoose=[],e.subOrgListForChoose=e.$extendDeepCopy(e.subOrgListForChoose,t.result),e.newPrj.milestones.forEach(function(t,s){t.subOrgList=[],t.subOrgList=e.subOrgListForChoose,1==t.hasUndertake&&e.changesubOrgListSelect(t.undertake.milestoneUndertakeOrgId,s,\"noReset\")}))}).catch(function(e){console.log(e)})},sendPrj:function(){var e=this,t=!1;if(this.$refs.prjRuleForm.validate(function(e){t=!!e}),t){var s=e.$extendDeepCopy(e.newPrj,s);s.originKey=e.newPrj.origin.dicKey||s.originKey,s.originValue=e.newPrj.origin.dicName||s.originValue,s.typeKey=e.newPrj.projectType.dicKey||s.typeKey,s.typeValue=e.newPrj.projectType.dicName||s.typeValue,s.levelKey=e.newPrj.projectLevel.dicKey||s.levelKey,s.levelValue=e.newPrj.projectLevel.dicName||s.levelValue,s.followCircleKey=e.newPrj.followCircle.dicKey||s.followCircleKey,s.followCircleValue=e.newPrj.followCircle.dicName||s.followCircleValue,s.authority={projectId:s.projectId},console.log(this.fileList);var l=\"\",r=\"\";this.fileList.length&&this.fileList[0].response&&(l=this.fileList[0].response.result.fileId,r=this.fileList[0].response.result.contentType,s.file={fileId:l,fileType:r,gmrtId:this.projectId}),s.milestones.forEach(function(e){0==e.hasUndertake&&(e.undertake=null)}),this.$httpExt().post(\"project/update\",s).then(function(t){e.$confirm(\"修改成功\",\"\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"success\",center:!0}).then(function(){e.$emit(\"page\",\"项目全景图\",e.newPrj.projectId,\"详情页\")}).catch(function(){})}).catch(function(t){e.$confirm(\"修改失败\",\"\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"fail\",center:!0})})}},onChange:function(e){this.filepath=event.target.files[0],console.log(\"发送文件成功-----\"),this.sendFile()}}}},1871:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"modify-project\"},[s(\"div\",{staticClass:\"wrap\"},[e._m(0),e._v(\" \"),s(\"div\",{staticClass:\"container\",staticStyle:{width:\"100%\",padding:\"30px\"}},[s(\"el-form\",{ref:\"prjRuleForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.newPrj,rules:e.myrules,\"label-position\":\"right\",\"label-width\":\"110px\"}},[s(\"div\",{staticClass:\"basic\"},[s(\"h3\",[e._v(\"基本详情\")]),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{ref:\"ruleForm\",staticClass:\"m-right\",attrs:{prop:\"projectName\",label:\"项目名称\"}},[s(\"el-input\",{staticClass:\"input-size\",model:{value:e.newPrj.projectName,callback:function(t){e.$set(e.newPrj,\"projectName\",t)},expression:\"newPrj.projectName\"}})],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"项目来源\",prop:\"origin\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"dicKey\",placeholder:\"请选择项目来源\"},model:{value:e.newPrj.origin,callback:function(t){e.$set(e.newPrj,\"origin\",t)},expression:\"newPrj.origin\"}},e._l(e.$dicTool().getListKeyName(\"grmt_setting.selectMenu.origin\"),function(e){return s(\"el-option\",{key:e.dicKey,attrs:{label:e.dicName,value:e}})}),1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"项目类别\",prop:\"projectType\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"dicKey\",placeholder:\"请选择项目类别\"},model:{value:e.newPrj.projectType,callback:function(t){e.$set(e.newPrj,\"projectType\",t)},expression:\"newPrj.projectType\"}},e._l(e.$dicTool().getListKeyName(\"grmt_setting.selectMenu.projectType\"),function(e){return s(\"el-option\",{key:e.dicKey,attrs:{label:e.dicName,value:e}})}),1)],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin close\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"衡量指标\"}},[s(\"el-input\",{staticClass:\"input-size\",attrs:{clearable:\"\",placeholder:\"请填写衡量指标\"},model:{value:e.newPrj.metricsValue,callback:function(t){e.$set(e.newPrj,\"metricsValue\",t)},expression:\"newPrj.metricsValue\"}})],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"项目级别\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{clearable:\"\",\"value-key\":\"dicKey\",placeholder:\"请选择项目级别\"},model:{value:e.newPrj.projectLevel,callback:function(t){e.$set(e.newPrj,\"projectLevel\",t)},expression:\"newPrj.projectLevel\"}},e._l(e.$dicTool().getListKeyName(\"grmt_setting.selectMenu.projectLevel\"),function(e){return s(\"el-option\",{key:e.dicKey,attrs:{label:e.dicName,value:e}})}),1)],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"发起部门\",prop:\"companyId\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"grmtOrgId\",placeholder:\"请选择\"},on:{change:function(t){return e.fetchOrgPerson(e.newPrj.companyId,\"reset\")}},model:{value:e.newPrj.companyId,callback:function(t){e.$set(e.newPrj,\"companyId\",t)},expression:\"newPrj.companyId\"}},e._l(e.orgDepartmentList,function(e){return s(\"el-option\",{key:e.grmtOrgId,attrs:{label:e.orgName,value:e.grmtOrgId}})}),1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"项目责任人\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"personNum\",multiple:\"\",placeholder:\"请选择\"},model:{value:e.newPrj.managerPersons,callback:function(t){e.$set(e.newPrj,\"managerPersons\",t)},expression:\"newPrj.managerPersons\"}},e._l(e.orgPersonForProManager,function(e){return s(\"el-option\",{key:e.personNum,attrs:{label:e.personName,value:e}})}),1)],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"项目跟进人\",prop:\"followerPersons\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"personNum\",multiple:\"\",placeholder:\"请选择\"},model:{value:e.newPrj.followerPersons,callback:function(t){e.$set(e.newPrj,\"followerPersons\",t)},expression:\"newPrj.followerPersons\"}},e._l(e.orgPersonForProFollower,function(e){return s(\"el-option\",{key:e.personNum,attrs:{label:e.personName,value:e}})}),1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"回顾周期\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{clearable:\"\",\"value-key\":\"dicKey\",placeholder:\"请选择回顾周期\"},model:{value:e.newPrj.followCircle,callback:function(t){e.$set(e.newPrj,\"followCircle\",t)},expression:\"newPrj.followCircle\"}},e._l(e.$dicTool().getListKeyName(\"grmt_setting.selectMenu.followCircle\"),function(e){return s(\"el-option\",{key:e.dicKey,attrs:{label:e.dicName,value:e}})}),1)],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"data-wrap\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"起止时间\",required:\"\"}},[s(\"el-col\",{staticClass:\"data-start\",attrs:{span:7}},[s(\"el-form-item\",{attrs:{prop:\"beginDate\"}},[s(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"开始日期\"},model:{value:e.newPrj.beginDate,callback:function(t){e.$set(e.newPrj,\"beginDate\",t)},expression:\"newPrj.beginDate\"}})],1)],1),e._v(\" \"),s(\"el-col\",{attrs:{span:7}},[s(\"el-form-item\",{attrs:{prop:\"endDate\"}},[s(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"结束日期\"},model:{value:e.newPrj.endDate,callback:function(t){e.$set(e.newPrj,\"endDate\",t)},expression:\"newPrj.endDate\"}})],1)],1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{attrs:{span:\"22\"}},[s(\"el-form-item\",{staticClass:\"label-margin\",attrs:{label:\"背景与目的\"}},[s(\"el-upload\",{staticClass:\"background\",attrs:{name:\"fileInput\",limit:e.fileNum,action:e.$store.state.global.url+\"file/upload\",\"before-remove\":e.beforeRemove,\"on-remove\":e.deleteFile,\"file-list\":e.fileList,\"on-success\":e.uploadSuccess,\"on-exceed\":e.exceedWarn,\"before-upload\":e.beforeUpload}},[s(\"el-button\",{attrs:{size:\"small\",type:\"primary\"}},[e._v(\"修改上传\")]),e._v(\" \"),s(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"上传附件必须为word、excell格式文件，且大小不超过10M\")])],1),e._v(\" \"),s(\"el-input\",{staticClass:\"b-textarea\",staticStyle:{resize:\"none\"},attrs:{type:\"textarea\",rows:5,placeholder:\"请输入内容\"},model:{value:e.newPrj.background,callback:function(t){e.$set(e.newPrj,\"background\",t)},expression:\"newPrj.background\"}})],1)],1)],1)],1),e._v(\" \"),s(\"div\",{staticClass:\"milestone\"},[s(\"h3\",[e._v(\"子事项\")]),e._v(\" \"),e._l(e.newPrj.milestones,function(t,l){return s(\"div\",{key:l},[l?s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"div\",{staticClass:\"seperaterLine\"})]):e._e(),e._v(\" \"),s(\"el-row\",[s(\"el-col\",{staticStyle:{display:\"flex\",\"justify-content\":\"flex-end\",\"margin-top\":\"-20px\"},attrs:{span:23}},[s(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(t){return e.deleteSubItem(l)}}},[e._v(\"删除\")])],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{staticStyle:{\"font-weight\":\"bold\"},attrs:{label:\"子事项\"+(l+1),prop:\"milestones.\"+l+\".milestoneTitle\",rules:{required:!0,message:\"请填写子事项名称\",trigger:\"blur\"}}},[s(\"el-input\",{attrs:{placeholder:\"请填写子事项名称\"},model:{value:t.milestoneTitle,callback:function(s){e.$set(t,\"milestoneTitle\",s)},expression:\"milestone.milestoneTitle\"}})],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"data-wrap\",attrs:{span:12}},[s(\"el-form-item\",{attrs:{label:\"起止时间\",required:\"\"}},[s(\"el-col\",{staticClass:\"data-start\",attrs:{span:7}},[s(\"el-form-item\",{attrs:{prop:\"milestones.\"+l+\".milestoneBeginDate\",rules:{required:!0,message:\"请选择开始日期\",trigger:\"change\"}}},[s(\"el-date-picker\",{staticClass:\"label-time\",attrs:{type:\"date\",placeholder:\"开始日期\"},model:{value:t.milestoneBeginDate,callback:function(s){e.$set(t,\"milestoneBeginDate\",s)},expression:\"milestone.milestoneBeginDate\"}})],1)],1),e._v(\" \"),s(\"el-col\",{attrs:{span:7}},[s(\"el-form-item\",{attrs:{prop:\"milestones.\"+l+\".milestoneEndDate\",rules:{required:!0,message:\"请选择结束日期\",trigger:\"change\"}}},[s(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"结束日期\"},model:{value:t.milestoneEndDate,callback:function(s){e.$set(t,\"milestoneEndDate\",s)},expression:\"milestone.milestoneEndDate\"}})],1)],1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"div\",{staticClass:\"grid-content bg-purple\"},[s(\"el-form-item\",{attrs:{label:\"交付物\"}},[s(\"el-input\",{staticClass:\"input-size\",attrs:{placeholder:\"请填写交付物\"},model:{value:t.milestoneDeliverable,callback:function(s){e.$set(t,\"milestoneDeliverable\",s)},expression:\"milestone.milestoneDeliverable\"}})],1)],1)]),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[s(\"div\",{staticClass:\"grid-content bg-purple\"},[s(\"el-form-item\",{attrs:{label:\"子事项跟进人\",prop:\"milestones.\"+l+\".subFollowers\",rules:{required:!0,message:\"请选择子事项跟进人\",trigger:\"change\"}}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"personNum\",multiple:\"\",placeholder:\"请先选择发起部门\"},model:{value:t.subFollowers,callback:function(s){e.$set(t,\"subFollowers\",s)},expression:\"milestone.subFollowers\"}},e._l(t.subFollowerList,function(e){return s(\"el-option\",{key:e.personNum,attrs:{label:e.personName,value:e}})}),1)],1)],1)])],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin errortip\",attrs:{span:\"22\"}},[s(\"el-form-item\",{staticClass:\"errortip\",attrs:{label:\"子事项\",\"inline-message\":\"false0\"}},[s(\"el-input\",{attrs:{type:\"textarea\",rows:5,placeholder:\"请输入内容\"},model:{value:t.milestoneContent,callback:function(s){e.$set(t,\"milestoneContent\",s)},expression:\"milestone.milestoneContent\"}})],1)],1)],1),e._v(\" \"),s(\"el-row\",[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8,push:1}},[s(\"div\",{staticClass:\"grid-content bg-purple\"},[s(\"el-form-item\",{attrs:{label:\"是否有承接部门\"}},[s(\"el-radio-group\",{staticStyle:{\"margin-left\":\"20px\"},model:{value:t.hasUndertake,callback:function(s){e.$set(t,\"hasUndertake\",s)},expression:\"milestone.hasUndertake\"}},[s(\"el-radio\",{attrs:{label:1}},[e._v(\"是\")]),e._v(\" \"),s(\"el-radio\",{attrs:{label:0}},[e._v(\"否\")])],1)],1)],1)]),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[\"1\"==t.hasUndertake?s(\"div\",{staticClass:\"grid-content bg-purple-light\"},[s(\"el-form-item\",{attrs:{label:\"承接部门\",prop:\"milestones.\"+l+\".undertake.milestoneUndertakeOrgId\",rules:{required:!0,message:\"请选择承接部门\",trigger:\"change\"}}},[s(\"el-select\",{staticStyle:{\"margin-left\":\"20px\"},attrs:{placeholder:\"请选择\"},on:{change:function(s){return e.changesubOrgListSelect(t.undertake.milestoneUndertakeOrgId,l,\"reset\")}},model:{value:t.undertake.milestoneUndertakeOrgId,callback:function(s){e.$set(t.undertake,\"milestoneUndertakeOrgId\",s)},expression:\"milestone.undertake['milestoneUndertakeOrgId']\"}},e._l(t.subOrgList,function(e,t){return s(\"el-option\",{key:t,attrs:{label:e.orgName,value:e.grmtOrgId}})}),1)],1)],1):e._e()])],1),e._v(\" \"),\"1\"==t.hasUndertake?s(\"div\",[s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"承接方责任人\"}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"personNum\",multiple:\"\",placeholder:\"请先选择承接部门\"},model:{value:t.managerPersons,callback:function(s){e.$set(t,\"managerPersons\",s)},expression:\"milestone.managerPersons\"}},e._l(t.managerPersonsList,function(e){return s(\"el-option\",{key:e.personNum,attrs:{label:e.personName,value:e}})}),1)],1)],1),e._v(\" \"),s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:12}},[s(\"el-form-item\",{staticClass:\"len\",attrs:{label:\"承接方跟进人\",prop:\"milestones.\"+l+\".followerPersons\",rules:{required:!0,message:\"请选择承接方跟进人\",trigger:\"change\"}}},[s(\"el-select\",{staticClass:\"sel\",attrs:{\"value-key\":\"personNum\",multiple:\"\",placeholder:\"请先选择承接部门\"},model:{value:t.followerPersons,callback:function(s){e.$set(t,\"followerPersons\",s)},expression:\"milestone.followerPersons\"}},e._l(t.followerPersonsList,function(e){return s(\"el-option\",{key:e.personNum,attrs:{label:e.personName,value:e}})}),1)],1)],1)],1),e._v(\" \"),s(\"el-row\",{attrs:{type:\"flex\",justify:\"space-around\"}},[s(\"el-col\",{staticClass:\"label-margin\",attrs:{span:22}},[s(\"el-form-item\",{staticClass:\"errortip\",attrs:{label:\"承接事项\"}},[s(\"el-input\",{staticClass:\"b-textarea\",attrs:{type:\"textarea\",rows:5,placeholder:\"请输入内容\"},model:{value:t.undertake.milestoneUndertakeContent,callback:function(s){e.$set(t.undertake,\"milestoneUndertakeContent\",s)},expression:\"milestone.undertake.milestoneUndertakeContent\"}})],1)],1)],1)],1):e._e()],1)}),e._v(\" \"),s(\"div\",{staticClass:\"creat-milestone\"},[s(\"el-button\",{staticClass:\"creat-milestone-btn\",attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.clickNewMilestone}},[e._v(\"添加新子事项\")])],1)],2),e._v(\" \"),s(\"el-row\",{staticClass:\"create-btn\"},[s(\"el-col\",{attrs:{span:3}},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.sendPrj}},[e._v(\"保存\")])],1)],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"p-link\"},[t(\"span\",[this._v(\"我的项目\")]),this._v(\" \"),t(\"span\",[this._v(\">\")]),this._v(\" \"),t(\"span\",{staticClass:\"link-text\"},[this._v(\"修改重点项目\")])])}]}}});","extractedComments":[]}