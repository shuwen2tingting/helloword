{"code":"webpackJsonp([11],{1307:function(t,e,s){var l=s(91)(s(1876),s(1877),function(t){s(1875)},null,null);t.exports=l.exports},1328:function(t,e,s){var l=s(91)(s(1330),s(1331),function(t){s(1329)},null,null);t.exports=l.exports},1329:function(t,e){},1330:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default={props:[\"projectDetailInfo\"],data:function(){return{showIndex:2,selectitem:null,allMilestoneData:[],allFollow:[],selectFollowIndex:0}},mounted:function(){},methods:{initAllMilestone:function(){var t=new Date,e=t.getFullYear();t.getMonth(),t.getDate();this.allMilestoneData=this.projectDetailInfo.milestones;for(var s=new Date(e+\"-1-1\").getTime(),l=(new Date).getTime(),a=111e11,n=null,i=0;i<this.allMilestoneData.length;i++){var o=(p=this.allMilestoneData[i]).milestoneBeginDate,r=p.milestoneEndDate,c=new Date(o).getTime(),u=new Date(r).getTime(),h=(u-s)/31536e6*100;this.allMilestoneData[i].left=h+\"%\";var f=(u-c)/31536e6;this.allMilestoneData[i].widthScale=f,this.allMilestoneData[i].bindLeft=h-100*f+\"%\",console.log(this.allMilestoneData[i].left),u>l&&u<a&&(n=i,a=u),this.stoneClick(n)}this.allFollow=this.projectDetailInfo.bigFollows;for(i=0;i<this.allFollow.length;i++){var p,m=(p=this.allFollow[i].follow[0]).followTime;h=(new Date(m).getTime()-s)/31536e6*100;this.allFollow[i].left=h+\"%\",console.log(this.allFollow[i].left)}this.selectFollowIndex=this.allFollow.length-1,this.followClick(this.selectFollowIndex),this.$forceUpdate()},changeSelect:function(t){this.selectitem=this.allMilestoneData[t]},stoneClick:function(t){console.log(\"stoneClick\"+t),this.$emit(\"stoneClick\",t),this.selectitem=this.allMilestoneData[t]},followClick:function(t){console.log(\"followClick\"+t),this.$emit(\"followClick\",t),this.selectFollowIndex=t},dealNum:function(t){var e=\"\";switch(t){case 0:e=\"一\";break;case 1:e=\"二\";break;case 2:e=\"三\";break;case 3:e=\"四\";break;case 4:e=\"五\";break;case 5:e=\"六\";break;case 6:e=\"七\";break;case 7:e=\"八\";break;case 8:e=\"九\";break;default:e=\"\"}return e}}}},1331:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"time-base\"},[s(\"div\",{staticClass:\"time_line_box\"},[s(\"div\",{staticClass:\"time_line\",staticStyle:{width:\"90%\"}},[t._m(0),t._v(\" \"),s(\"ol\",{staticStyle:{\"margin-top\":\"60px\"}},t._l(t.allFollow,function(e,l){return s(\"li\",{on:{click:function(e){return t.followClick(l)}}},[s(\"a\",{staticClass:\"follow_item\",class:{follow_item_select:l==t.selectFollowIndex},style:{left:e.left}},[s(\"span\",{staticClass:\"fellowText\"},[t._v(\"跟进\"+t._s(t.dealNum(l)))])])])}),0),t._v(\" \"),s(\"div\",t._l(t.allMilestoneData,function(e,l){return s(\"span\",{key:l,staticClass:\"milestoneLine\",style:{left:e.left},on:{click:function(e){return t.stoneClick(l)}}},[s(\"span\",{staticClass:\"milestoneText\"},[t._v(\"子事项\"+t._s(l+1))]),t._v(\" \"),s(\"span\",{staticClass:\"milestoneCude\"})])}),0),t._v(\" \"),t.selectitem?s(\"span\",{staticClass:\"filling_line2\",style:{left:t.selectitem.bindLeft,transform:\"scaleX(\"+t.selectitem.widthScale+\")\"}}):t._e()])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"ol\",[s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"0%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"1月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"8.49%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"2月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"16.16%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"3月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"24.65%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"4月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"32.87%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"5月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"41.36%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"6月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"49.58%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"7月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"58.08%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"8月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"66.57%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"9月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item \",staticStyle:{left:\"74.79%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"10月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"83.28%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"11月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"91.50%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"12月\")])])]),t._v(\" \"),s(\"li\",[s(\"a\",{staticClass:\"order_item\",staticStyle:{left:\"100.0%\"}},[s(\"span\",{staticClass:\"monthText\"},[t._v(\"2020年\")])])])])}]}},1875:function(t,e){},1876:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var l=n(s(137)),a=n(s(1328));function n(t){return t&&t.__esModule?t:{default:t}}e.default={name:\"contactGuide\",data:function(){return{orgInfo:{},imageUrl:\"\",jmPersonList:[],jmOrgId:156,personInfo:{},currentPage:1,pageSize:10,pageSizes:[10,20,30],total:0,restaurants:[],previousJmOrgId:\"\",sfPersonList:[],jmTableDisplay:\"inline\",currentTable:1,searchKey:\"\"}},watch:{},computed:{},components:{timeBase:a.default},mounted:function(){this.getJmPersonList()},methods:{querySearch:function(t,e){var s=this.restaurants;e(t?s.filter(this.createFilter(t)):s)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var s=this.spanArr[e];return{rowspan:s,colspan:s>0?1:0}}},searchPersonInfo:function(t){var e=this.currentTable;this.searchKey=t,1==e?this.getJmPersonList():2==e?this.getSfHQPersonList():3==e?this.getSfAreaPersonList():this.getWorkGroupPersonList()},getJmPersonList:function(){var t=this;this.currentTable=1,this.displaySfTable();var e=this,s={searchKey:this.searchKey};this.$httpExt().post(\"contactGuide/getJmPersonInfo\",s).then(function(s){var l=s.result;null!=l&&void 0!=l&&0!=l.length?(e.jmPersonList=l,t.getSpanArr(e.jmPersonList)):e.jmPersonList=[]}).catch(function(t){(0,l.default)({message:t.msg,type:\"error\"})})},getSpanArr:function(t){this.spanArr=[];for(var e=0;e<t.length;e++)0===e?(this.spanArr.push(1),this.pos=0):t[e].orgNameAbbr===t[e-1].orgNameAbbr?(this.spanArr[this.pos]+=1,this.spanArr.push(0)):(this.spanArr.push(1),this.pos=e)},getSfHQPersonList:function(){var t=this;this.currentTable=2,this.displayJmTable();var e=this,s={searchKey:this.searchKey};this.$httpExt().post(\"contactGuide/getSfPersonList/2\",s).then(function(s){var l=s.result;null!=l&&void 0!=l&&0!=l.length?(e.sfPersonList=l,t.getSpanArr(e.sfPersonList)):e.sfPersonList=[]}).catch(function(t){(0,l.default)({message:t.msg,type:\"error\"})})},getSfAreaPersonList:function(){var t=this;this.currentTable=3,this.displayJmTable();var e=this,s={searchKey:this.searchKey};this.$httpExt().post(\"contactGuide/getSfPersonList/3\",s).then(function(s){var l=s.result;null!=l&&void 0!=l&&0!=l.length?(e.sfPersonList=l,t.getSpanArr(e.sfPersonList)):e.sfPersonList=[]}).catch(function(t){(0,l.default)({message:t.msg,type:\"error\"})})},getWorkGroupPersonList:function(){var t=this;this.currentTable=4,this.displayJmTable();var e=this,s={searchKey:this.searchKey};this.$httpExt().post(\"contactGuide/getSfPersonList/4\",s).then(function(s){var l=s.result;null!=l&&void 0!=l&&0!=l.length?(e.sfPersonList=l,t.getSpanArr(e.sfPersonList)):e.sfPersonList=[]}).catch(function(t){(0,l.default)({message:t.msg,type:\"error\"})})},displaySfTable:function(){document.getElementById(\"sfPersonListTable\").style.display=\"none\",document.getElementById(\"jmPersonListTable\").style.display=\"block\"},displayJmTable:function(){document.getElementById(\"jmPersonListTable\").style.display=\"none\",document.getElementById(\"sfPersonListTable\").style.display=\"block\"}}}},1877:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"contact-detail\"},[s(\"div\",{staticClass:\"container\"},[t._m(0),t._v(\" \"),s(\"div\",{staticClass:\"headInfo\"},[s(\"div\",{staticClass:\"contact-btn\"},[s(\"el-button-group\",[s(\"el-button\",{attrs:{plain:\"\",size:\"small\",type:\"primary\"},on:{click:t.getJmPersonList}},[t._v(\"紧密公司联系人\")]),t._v(\" \"),s(\"el-button\",{attrs:{plain:\"\",size:\"small\",type:\"primary\"},on:{click:t.getSfHQPersonList}},[t._v(\"顺丰总部接口人\")]),t._v(\" \"),s(\"el-button\",{attrs:{plain:\"\",size:\"small\",type:\"primary\"},on:{click:t.getSfAreaPersonList}},[t._v(\"顺丰地区接口人\")]),t._v(\" \"),s(\"el-button\",{attrs:{plain:\"\",size:\"small\",type:\"primary\"},on:{click:t.getWorkGroupPersonList}},[t._v(\"融通工作小组\")])],1)],1),t._v(\" \"),s(\"div\",{staticClass:\"searchInputDiv\"},[s(\"el-autocomplete\",{staticClass:\"searchInput\",attrs:{\"fetch-suggestions\":t.querySearch,placeholder:\"请输入公司名称或类型搜索\",size:\"small\",autosize:\"\"},nativeOn:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.searchPersonInfo(t.searchKey)}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:\"searchKey\"}},[s(\"i\",{staticClass:\"el-icon-search el-input__icon\",attrs:{slot:\"suffix\"},on:{click:function(e){return t.searchPersonInfo(t.searchKey)}},slot:\"suffix\"})])],1)])]),t._v(\" \"),s(\"div\",{attrs:{id:\"jmPersonListTable\"}},[s(\"el-table\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"50px\"},attrs:{data:t.jmPersonList,\"span-method\":t.objectSpanMethod,border:\"\"}},[s(\"el-table-column\",{attrs:{align:\"center\",prop:\"orgNameAbbr\",label:\"公司\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"interfaceTypeName\",label:\"类型\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"position\",label:\"职位\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"name\",label:\"接口人\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"tel\",label:\"联系电话\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"mail\",label:\"邮箱\"}})],1)],1),t._v(\" \"),s(\"div\",{attrs:{id:\"sfPersonListTable\"}},[s(\"el-table\",{staticStyle:{width:\"100%\",\"margin-top\":\"20px\"},attrs:{data:t.sfPersonList,\"span-method\":t.objectSpanMethod,border:\"\"}},[s(\"el-table-column\",{attrs:{align:\"center\",prop:\"superiorOrg\",label:\"一级组织\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"orgName\",label:\"二级组织\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"personPosition\",label:\"职务\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"personName\",label:\"接口人\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"personTel\",label:\"联系电话\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"personMail\",label:\"邮箱\"}}),t._v(\" \"),s(\"el-table-column\",{attrs:{align:\"center\",prop:\"personNum\",label:\"工号\"}})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"head\"},[e(\"h3\",[this._v(\"联系人指引\")])])}]}}});","extractedComments":[]}